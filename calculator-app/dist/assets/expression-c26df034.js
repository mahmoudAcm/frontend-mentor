class Ee extends Array{back(){return this.slice(-1)[0]}clear(){for(;this.length;)this.pop()}empty(){return this.length===0}}var _e=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,pe=Math.ceil,V=Math.floor,C="[BigNumber Error] ",Ne=C+"Number primitive has more than 15 significant digits: ",z=1e14,O=14,ge=9007199254740991,we=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Q=1e7,R=1e9;function Ae(g){var N,d,E,h=p.prototype={constructor:p,toString:null,valueOf:null},A=new p(1),S=20,B=4,T=-7,U=21,Z=-1e7,$=1e7,K=!1,ie=1,J=0,le={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz",oe=!0;function p(e,r){var i,o,t,s,u,n,f,c,l=this;if(!(l instanceof p))return new p(e,r);if(r==null){if(e&&e._isBigNumber===!0){l.s=e.s,!e.c||e.e>$?l.c=l.e=null:e.e<Z?l.c=[l.e=0]:(l.e=e.e,l.c=e.c.slice());return}if((n=typeof e=="number")&&e*0==0){if(l.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,u=e;u>=10;u/=10,s++);s>$?l.c=l.e=null:(l.e=s,l.c=[e]);return}c=String(e)}else{if(!_e.test(c=String(e)))return E(l,c,n);l.s=c.charCodeAt(0)==45?(c=c.slice(1),-1):1}(s=c.indexOf("."))>-1&&(c=c.replace(".","")),(u=c.search(/e/i))>0?(s<0&&(s=u),s+=+c.slice(u+1),c=c.substring(0,u)):s<0&&(s=c.length)}else{if(I(r,2,j.length,"Base"),r==10&&oe)return l=new p(e),F(l,S+l.e+1,B);if(c=String(e),n=typeof e=="number"){if(e*0!=0)return E(l,c,n,r);if(l.s=1/e<0?(c=c.slice(1),-1):1,p.DEBUG&&c.replace(/^0\.0*|\./,"").length>15)throw Error(Ne+e)}else l.s=c.charCodeAt(0)===45?(c=c.slice(1),-1):1;for(i=j.slice(0,r),s=u=0,f=c.length;u<f;u++)if(i.indexOf(o=c.charAt(u))<0){if(o=="."){if(u>s){s=f;continue}}else if(!t&&(c==c.toUpperCase()&&(c=c.toLowerCase())||c==c.toLowerCase()&&(c=c.toUpperCase()))){t=!0,u=-1,s=0;continue}return E(l,String(e),n,r)}n=!1,c=d(c,r,10,l.s),(s=c.indexOf("."))>-1?c=c.replace(".",""):s=c.length}for(u=0;c.charCodeAt(u)===48;u++);for(f=c.length;c.charCodeAt(--f)===48;);if(c=c.slice(u,++f)){if(f-=u,n&&p.DEBUG&&f>15&&(e>ge||e!==V(e)))throw Error(Ne+l.s*e);if((s=s-u-1)>$)l.c=l.e=null;else if(s<Z)l.c=[l.e=0];else{if(l.e=s,l.c=[],u=(s+1)%O,s<0&&(u+=O),u<f){for(u&&l.c.push(+c.slice(0,u)),f-=O;u<f;)l.c.push(+c.slice(u,u+=O));u=O-(c=c.slice(u)).length}else u-=f;for(;u--;c+="0");l.c.push(+c)}}else l.c=[l.e=0]}p.clone=Ae,p.ROUND_UP=0,p.ROUND_DOWN=1,p.ROUND_CEIL=2,p.ROUND_FLOOR=3,p.ROUND_HALF_UP=4,p.ROUND_HALF_DOWN=5,p.ROUND_HALF_EVEN=6,p.ROUND_HALF_CEIL=7,p.ROUND_HALF_FLOOR=8,p.EUCLID=9,p.config=p.set=function(e){var r,i;if(e!=null)if(typeof e=="object"){if(e.hasOwnProperty(r="DECIMAL_PLACES")&&(i=e[r],I(i,0,R,r),S=i),e.hasOwnProperty(r="ROUNDING_MODE")&&(i=e[r],I(i,0,8,r),B=i),e.hasOwnProperty(r="EXPONENTIAL_AT")&&(i=e[r],i&&i.pop?(I(i[0],-R,0,r),I(i[1],0,R,r),T=i[0],U=i[1]):(I(i,-R,R,r),T=-(U=i<0?-i:i))),e.hasOwnProperty(r="RANGE"))if(i=e[r],i&&i.pop)I(i[0],-R,-1,r),I(i[1],1,R,r),Z=i[0],$=i[1];else if(I(i,-R,R,r),i)Z=-($=i<0?-i:i);else throw Error(C+r+" cannot be zero: "+i);if(e.hasOwnProperty(r="CRYPTO"))if(i=e[r],i===!!i)if(i)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))K=i;else throw K=!i,Error(C+"crypto unavailable");else K=i;else throw Error(C+r+" not true or false: "+i);if(e.hasOwnProperty(r="MODULO_MODE")&&(i=e[r],I(i,0,9,r),ie=i),e.hasOwnProperty(r="POW_PRECISION")&&(i=e[r],I(i,0,R,r),J=i),e.hasOwnProperty(r="FORMAT"))if(i=e[r],typeof i=="object")le=i;else throw Error(C+r+" not an object: "+i);if(e.hasOwnProperty(r="ALPHABET"))if(i=e[r],typeof i=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(i))oe=i.slice(0,10)=="0123456789",j=i;else throw Error(C+r+" invalid: "+i)}else throw Error(C+"Object expected: "+e);return{DECIMAL_PLACES:S,ROUNDING_MODE:B,EXPONENTIAL_AT:[T,U],RANGE:[Z,$],CRYPTO:K,MODULO_MODE:ie,POW_PRECISION:J,FORMAT:le,ALPHABET:j}},p.isBigNumber=function(e){if(!e||e._isBigNumber!==!0)return!1;if(!p.DEBUG)return!0;var r,i,o=e.c,t=e.e,s=e.s;e:if({}.toString.call(o)=="[object Array]"){if((s===1||s===-1)&&t>=-R&&t<=R&&t===V(t)){if(o[0]===0){if(t===0&&o.length===1)return!0;break e}if(r=(t+1)%O,r<1&&(r+=O),String(o[0]).length==r){for(r=0;r<o.length;r++)if(i=o[r],i<0||i>=z||i!==V(i))break e;if(i!==0)return!0}}}else if(o===null&&t===null&&(s===null||s===1||s===-1))return!0;throw Error(C+"Invalid BigNumber: "+e)},p.maximum=p.max=function(){return me(arguments,h.lt)},p.minimum=p.min=function(){return me(arguments,h.gt)},p.random=function(){var e=9007199254740992,r=Math.random()*e&2097151?function(){return V(Math.random()*e)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(i){var o,t,s,u,n,f=0,c=[],l=new p(A);if(i==null?i=S:I(i,0,R),u=pe(i/O),K)if(crypto.getRandomValues){for(o=crypto.getRandomValues(new Uint32Array(u*=2));f<u;)n=o[f]*131072+(o[f+1]>>>11),n>=9e15?(t=crypto.getRandomValues(new Uint32Array(2)),o[f]=t[0],o[f+1]=t[1]):(c.push(n%1e14),f+=2);f=u/2}else if(crypto.randomBytes){for(o=crypto.randomBytes(u*=7);f<u;)n=(o[f]&31)*281474976710656+o[f+1]*1099511627776+o[f+2]*4294967296+o[f+3]*16777216+(o[f+4]<<16)+(o[f+5]<<8)+o[f+6],n>=9e15?crypto.randomBytes(7).copy(o,f):(c.push(n%1e14),f+=7);f=u/7}else throw K=!1,Error(C+"crypto unavailable");if(!K)for(;f<u;)n=r(),n<9e15&&(c[f++]=n%1e14);for(u=c[--f],i%=O,u&&i&&(n=we[O-i],c[f]=V(u/n)*n);c[f]===0;c.pop(),f--);if(f<0)c=[s=0];else{for(s=-1;c[0]===0;c.splice(0,1),s-=O);for(f=1,n=c[0];n>=10;n/=10,f++);f<O&&(s-=O-f)}return l.e=s,l.c=c,l}}(),p.sum=function(){for(var e=1,r=arguments,i=new p(r[0]);e<r.length;)i=i.plus(r[e++]);return i},d=function(){var e="0123456789";function r(i,o,t,s){for(var u,n=[0],f,c=0,l=i.length;c<l;){for(f=n.length;f--;n[f]*=o);for(n[0]+=s.indexOf(i.charAt(c++)),u=0;u<n.length;u++)n[u]>t-1&&(n[u+1]==null&&(n[u+1]=0),n[u+1]+=n[u]/t|0,n[u]%=t)}return n.reverse()}return function(i,o,t,s,u){var n,f,c,l,a,w,m,v,D=i.indexOf("."),k=S,_=B;for(D>=0&&(l=J,J=0,i=i.replace(".",""),v=new p(o),w=v.pow(i.length-D),J=l,v.c=r(Y(y(w.c),w.e,"0"),10,t,e),v.e=v.c.length),m=r(i,o,t,u?(n=j,e):(n=e,j)),c=l=m.length;m[--l]==0;m.pop());if(!m[0])return n.charAt(0);if(D<0?--c:(w.c=m,w.e=c,w.s=s,w=N(w,v,k,_,t),m=w.c,a=w.r,c=w.e),f=c+k+1,D=m[f],l=t/2,a=a||f<0||m[f+1]!=null,a=_<4?(D!=null||a)&&(_==0||_==(w.s<0?3:2)):D>l||D==l&&(_==4||a||_==6&&m[f-1]&1||_==(w.s<0?8:7)),f<1||!m[0])i=a?Y(n.charAt(1),-k,n.charAt(0)):n.charAt(0);else{if(m.length=f,a)for(--t;++m[--f]>t;)m[f]=0,f||(++c,m=[1].concat(m));for(l=m.length;!m[--l];);for(D=0,i="";D<=l;i+=n.charAt(m[D++]));i=Y(i,c,n.charAt(0))}return i}}(),N=function(){function e(o,t,s){var u,n,f,c,l=0,a=o.length,w=t%Q,m=t/Q|0;for(o=o.slice();a--;)f=o[a]%Q,c=o[a]/Q|0,u=m*f+c*w,n=w*f+u%Q*Q+l,l=(n/s|0)+(u/Q|0)+m*c,o[a]=n%s;return l&&(o=[l].concat(o)),o}function r(o,t,s,u){var n,f;if(s!=u)f=s>u?1:-1;else for(n=f=0;n<s;n++)if(o[n]!=t[n]){f=o[n]>t[n]?1:-1;break}return f}function i(o,t,s,u){for(var n=0;s--;)o[s]-=n,n=o[s]<t[s]?1:0,o[s]=n*u+o[s]-t[s];for(;!o[0]&&o.length>1;o.splice(0,1));}return function(o,t,s,u,n){var f,c,l,a,w,m,v,D,k,_,x,P,te,ae,he,X,ne,G=o.s==t.s?1:-1,L=o.c,M=t.c;if(!L||!L[0]||!M||!M[0])return new p(!o.s||!t.s||(L?M&&L[0]==M[0]:!M)?NaN:L&&L[0]==0||!M?G*0:G/0);for(D=new p(G),k=D.c=[],c=o.e-t.e,G=s+c+1,n||(n=z,c=q(o.e/O)-q(t.e/O),G=G/O|0),l=0;M[l]==(L[l]||0);l++);if(M[l]>(L[l]||0)&&c--,G<0)k.push(1),a=!0;else{for(ae=L.length,X=M.length,l=0,G+=2,w=V(n/(M[0]+1)),w>1&&(M=e(M,w,n),L=e(L,w,n),X=M.length,ae=L.length),te=X,_=L.slice(0,X),x=_.length;x<X;_[x++]=0);ne=M.slice(),ne=[0].concat(ne),he=M[0],M[1]>=n/2&&he++;do{if(w=0,f=r(M,_,X,x),f<0){if(P=_[0],X!=x&&(P=P*n+(_[1]||0)),w=V(P/he),w>1)for(w>=n&&(w=n-1),m=e(M,w,n),v=m.length,x=_.length;r(m,_,v,x)==1;)w--,i(m,X<v?ne:M,v,n),v=m.length,f=1;else w==0&&(f=w=1),m=M.slice(),v=m.length;if(v<x&&(m=[0].concat(m)),i(_,m,x,n),x=_.length,f==-1)for(;r(M,_,X,x)<1;)w++,i(_,X<x?ne:M,x,n),x=_.length}else f===0&&(w++,_=[0]);k[l++]=w,_[0]?_[x++]=L[te]||0:(_=[L[te]],x=1)}while((te++<ae||_[0]!=null)&&G--);a=_[0]!=null,k[0]||k.splice(0,1)}if(n==z){for(l=1,G=k[0];G>=10;G/=10,l++);F(D,s+(D.e=l+c*O-1)+1,u,a)}else D.e=c,D.r=+a;return D}}();function ce(e,r,i,o){var t,s,u,n,f;if(i==null?i=B:I(i,0,8),!e.c)return e.toString();if(t=e.c[0],u=e.e,r==null)f=y(e.c),f=o==1||o==2&&(u<=T||u>=U)?se(f,u):Y(f,u,"0");else if(e=F(new p(e),r,i),s=e.e,f=y(e.c),n=f.length,o==1||o==2&&(r<=s||s<=T)){for(;n<r;f+="0",n++);f=se(f,s)}else if(r-=u,f=Y(f,s,"0"),s+1>n){if(--r>0)for(f+=".";r--;f+="0");}else if(r+=s-n,r>0)for(s+1==n&&(f+=".");r--;f+="0");return e.s<0&&t?"-"+f:f}function me(e,r){for(var i,o=1,t=new p(e[0]);o<e.length;o++)if(i=new p(e[o]),i.s)r.call(t,i)&&(t=i);else{t=i;break}return t}function ue(e,r,i){for(var o=1,t=r.length;!r[--t];r.pop());for(t=r[0];t>=10;t/=10,o++);return(i=o+i*O-1)>$?e.c=e.e=null:i<Z?e.c=[e.e=0]:(e.e=i,e.c=r),e}E=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,i=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,t=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(s,u,n,f){var c,l=n?u:u.replace(t,"");if(o.test(l))s.s=isNaN(l)?null:l<0?-1:1;else{if(!n&&(l=l.replace(e,function(a,w,m){return c=(m=m.toLowerCase())=="x"?16:m=="b"?2:8,!f||f==c?w:a}),f&&(c=f,l=l.replace(r,"$1").replace(i,"0.$1")),u!=l))return new p(l,c);if(p.DEBUG)throw Error(C+"Not a"+(f?" base "+f:"")+" number: "+u);s.s=null}s.c=s.e=null}}();function F(e,r,i,o){var t,s,u,n,f,c,l,a=e.c,w=we;if(a){e:{for(t=1,n=a[0];n>=10;n/=10,t++);if(s=r-t,s<0)s+=O,u=r,f=a[c=0],l=f/w[t-u-1]%10|0;else if(c=pe((s+1)/O),c>=a.length)if(o){for(;a.length<=c;a.push(0));f=l=0,t=1,s%=O,u=s-O+1}else break e;else{for(f=n=a[c],t=1;n>=10;n/=10,t++);s%=O,u=s-O+t,l=u<0?0:f/w[t-u-1]%10|0}if(o=o||r<0||a[c+1]!=null||(u<0?f:f%w[t-u-1]),o=i<4?(l||o)&&(i==0||i==(e.s<0?3:2)):l>5||l==5&&(i==4||o||i==6&&(s>0?u>0?f/w[t-u]:0:a[c-1])%10&1||i==(e.s<0?8:7)),r<1||!a[0])return a.length=0,o?(r-=e.e+1,a[0]=w[(O-r%O)%O],e.e=-r||0):a[0]=e.e=0,e;if(s==0?(a.length=c,n=1,c--):(a.length=c+1,n=w[O-s],a[c]=u>0?V(f/w[t-u]%w[u])*n:0),o)for(;;)if(c==0){for(s=1,u=a[0];u>=10;u/=10,s++);for(u=a[0]+=n,n=1;u>=10;u/=10,n++);s!=n&&(e.e++,a[0]==z&&(a[0]=1));break}else{if(a[c]+=n,a[c]!=z)break;a[c--]=0,n=1}for(s=a.length;a[--s]===0;a.pop());}e.e>$?e.c=e.e=null:e.e<Z&&(e.c=[e.e=0])}return e}function W(e){var r,i=e.e;return i===null?e.toString():(r=y(e.c),r=i<=T||i>=U?se(r,i):Y(r,i,"0"),e.s<0?"-"+r:r)}return h.absoluteValue=h.abs=function(){var e=new p(this);return e.s<0&&(e.s=1),e},h.comparedTo=function(e,r){return b(this,new p(e,r))},h.decimalPlaces=h.dp=function(e,r){var i,o,t,s=this;if(e!=null)return I(e,0,R),r==null?r=B:I(r,0,8),F(new p(s),e+s.e+1,r);if(!(i=s.c))return null;if(o=((t=i.length-1)-q(this.e/O))*O,t=i[t])for(;t%10==0;t/=10,o--);return o<0&&(o=0),o},h.dividedBy=h.div=function(e,r){return N(this,new p(e,r),S,B)},h.dividedToIntegerBy=h.idiv=function(e,r){return N(this,new p(e,r),0,1)},h.exponentiatedBy=h.pow=function(e,r){var i,o,t,s,u,n,f,c,l,a=this;if(e=new p(e),e.c&&!e.isInteger())throw Error(C+"Exponent not an integer: "+W(e));if(r!=null&&(r=new p(r)),n=e.e>14,!a.c||!a.c[0]||a.c[0]==1&&!a.e&&a.c.length==1||!e.c||!e.c[0])return l=new p(Math.pow(+W(a),n?e.s*(2-fe(e)):+W(e))),r?l.mod(r):l;if(f=e.s<0,r){if(r.c?!r.c[0]:!r.s)return new p(NaN);o=!f&&a.isInteger()&&r.isInteger(),o&&(a=a.mod(r))}else{if(e.e>9&&(a.e>0||a.e<-1||(a.e==0?a.c[0]>1||n&&a.c[1]>=24e7:a.c[0]<8e13||n&&a.c[0]<=9999975e7)))return s=a.s<0&&fe(e)?-0:0,a.e>-1&&(s=1/s),new p(f?1/s:s);J&&(s=pe(J/O+2))}for(n?(i=new p(.5),f&&(e.s=1),c=fe(e)):(t=Math.abs(+W(e)),c=t%2),l=new p(A);;){if(c){if(l=l.times(a),!l.c)break;s?l.c.length>s&&(l.c.length=s):o&&(l=l.mod(r))}if(t){if(t=V(t/2),t===0)break;c=t%2}else if(e=e.times(i),F(e,e.e+1,1),e.e>14)c=fe(e);else{if(t=+W(e),t===0)break;c=t%2}a=a.times(a),s?a.c&&a.c.length>s&&(a.c.length=s):o&&(a=a.mod(r))}return o?l:(f&&(l=A.div(l)),r?l.mod(r):s?F(l,J,B,u):l)},h.integerValue=function(e){var r=new p(this);return e==null?e=B:I(e,0,8),F(r,r.e+1,e)},h.isEqualTo=h.eq=function(e,r){return b(this,new p(e,r))===0},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(e,r){return b(this,new p(e,r))>0},h.isGreaterThanOrEqualTo=h.gte=function(e,r){return(r=b(this,new p(e,r)))===1||r===0},h.isInteger=function(){return!!this.c&&q(this.e/O)>this.c.length-2},h.isLessThan=h.lt=function(e,r){return b(this,new p(e,r))<0},h.isLessThanOrEqualTo=h.lte=function(e,r){return(r=b(this,new p(e,r)))===-1||r===0},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&this.c[0]==0},h.minus=function(e,r){var i,o,t,s,u=this,n=u.s;if(e=new p(e,r),r=e.s,!n||!r)return new p(NaN);if(n!=r)return e.s=-r,u.plus(e);var f=u.e/O,c=e.e/O,l=u.c,a=e.c;if(!f||!c){if(!l||!a)return l?(e.s=-r,e):new p(a?u:NaN);if(!l[0]||!a[0])return a[0]?(e.s=-r,e):new p(l[0]?u:B==3?-0:0)}if(f=q(f),c=q(c),l=l.slice(),n=f-c){for((s=n<0)?(n=-n,t=l):(c=f,t=a),t.reverse(),r=n;r--;t.push(0));t.reverse()}else for(o=(s=(n=l.length)<(r=a.length))?n:r,n=r=0;r<o;r++)if(l[r]!=a[r]){s=l[r]<a[r];break}if(s&&(t=l,l=a,a=t,e.s=-e.s),r=(o=a.length)-(i=l.length),r>0)for(;r--;l[i++]=0);for(r=z-1;o>n;){if(l[--o]<a[o]){for(i=o;i&&!l[--i];l[i]=r);--l[i],l[o]+=z}l[o]-=a[o]}for(;l[0]==0;l.splice(0,1),--c);return l[0]?ue(e,l,c):(e.s=B==3?-1:1,e.c=[e.e=0],e)},h.modulo=h.mod=function(e,r){var i,o,t=this;return e=new p(e,r),!t.c||!e.s||e.c&&!e.c[0]?new p(NaN):!e.c||t.c&&!t.c[0]?new p(t):(ie==9?(o=e.s,e.s=1,i=N(t,e,0,3),e.s=o,i.s*=o):i=N(t,e,0,ie),e=t.minus(i.times(e)),!e.c[0]&&ie==1&&(e.s=t.s),e)},h.multipliedBy=h.times=function(e,r){var i,o,t,s,u,n,f,c,l,a,w,m,v,D,k,_=this,x=_.c,P=(e=new p(e,r)).c;if(!x||!P||!x[0]||!P[0])return!_.s||!e.s||x&&!x[0]&&!P||P&&!P[0]&&!x?e.c=e.e=e.s=null:(e.s*=_.s,!x||!P?e.c=e.e=null:(e.c=[0],e.e=0)),e;for(o=q(_.e/O)+q(e.e/O),e.s*=_.s,f=x.length,a=P.length,f<a&&(v=x,x=P,P=v,t=f,f=a,a=t),t=f+a,v=[];t--;v.push(0));for(D=z,k=Q,t=a;--t>=0;){for(i=0,w=P[t]%k,m=P[t]/k|0,u=f,s=t+u;s>t;)c=x[--u]%k,l=x[u]/k|0,n=m*c+l*w,c=w*c+n%k*k+v[s]+i,i=(c/D|0)+(n/k|0)+m*l,v[s--]=c%D;v[s]=i}return i?++o:v.splice(0,1),ue(e,v,o)},h.negated=function(){var e=new p(this);return e.s=-e.s||null,e},h.plus=function(e,r){var i,o=this,t=o.s;if(e=new p(e,r),r=e.s,!t||!r)return new p(NaN);if(t!=r)return e.s=-r,o.minus(e);var s=o.e/O,u=e.e/O,n=o.c,f=e.c;if(!s||!u){if(!n||!f)return new p(t/0);if(!n[0]||!f[0])return f[0]?e:new p(n[0]?o:t*0)}if(s=q(s),u=q(u),n=n.slice(),t=s-u){for(t>0?(u=s,i=f):(t=-t,i=n),i.reverse();t--;i.push(0));i.reverse()}for(t=n.length,r=f.length,t-r<0&&(i=f,f=n,n=i,r=t),t=0;r;)t=(n[--r]=n[r]+f[r]+t)/z|0,n[r]=z===n[r]?0:n[r]%z;return t&&(n=[t].concat(n),++u),ue(e,n,u)},h.precision=h.sd=function(e,r){var i,o,t,s=this;if(e!=null&&e!==!!e)return I(e,1,R),r==null?r=B:I(r,0,8),F(new p(s),e,r);if(!(i=s.c))return null;if(t=i.length-1,o=t*O+1,t=i[t]){for(;t%10==0;t/=10,o--);for(t=i[0];t>=10;t/=10,o++);}return e&&s.e+1>o&&(o=s.e+1),o},h.shiftedBy=function(e){return I(e,-ge,ge),this.times("1e"+e)},h.squareRoot=h.sqrt=function(){var e,r,i,o,t,s=this,u=s.c,n=s.s,f=s.e,c=S+4,l=new p("0.5");if(n!==1||!u||!u[0])return new p(!n||n<0&&(!u||u[0])?NaN:u?s:1/0);if(n=Math.sqrt(+W(s)),n==0||n==1/0?(r=y(u),(r.length+f)%2==0&&(r+="0"),n=Math.sqrt(+r),f=q((f+1)/2)-(f<0||f%2),n==1/0?r="5e"+f:(r=n.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),i=new p(r)):i=new p(n+""),i.c[0]){for(f=i.e,n=f+c,n<3&&(n=0);;)if(t=i,i=l.times(t.plus(N(s,t,c,1))),y(t.c).slice(0,n)===(r=y(i.c)).slice(0,n))if(i.e<f&&--n,r=r.slice(n-3,n+1),r=="9999"||!o&&r=="4999"){if(!o&&(F(t,t.e+S+2,0),t.times(t).eq(s))){i=t;break}c+=4,n+=4,o=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(F(i,i.e+S+2,1),e=!i.times(i).eq(s));break}}return F(i,i.e+S+1,B,e)},h.toExponential=function(e,r){return e!=null&&(I(e,0,R),e++),ce(this,e,r,1)},h.toFixed=function(e,r){return e!=null&&(I(e,0,R),e=e+this.e+1),ce(this,e,r)},h.toFormat=function(e,r,i){var o,t=this;if(i==null)e!=null&&r&&typeof r=="object"?(i=r,r=null):e&&typeof e=="object"?(i=e,e=r=null):i=le;else if(typeof i!="object")throw Error(C+"Argument not an object: "+i);if(o=t.toFixed(e,r),t.c){var s,u=o.split("."),n=+i.groupSize,f=+i.secondaryGroupSize,c=i.groupSeparator||"",l=u[0],a=u[1],w=t.s<0,m=w?l.slice(1):l,v=m.length;if(f&&(s=n,n=f,f=s,v-=s),n>0&&v>0){for(s=v%n||n,l=m.substr(0,s);s<v;s+=n)l+=c+m.substr(s,n);f>0&&(l+=c+m.slice(s)),w&&(l="-"+l)}o=a?l+(i.decimalSeparator||"")+((f=+i.fractionGroupSize)?a.replace(new RegExp("\\d{"+f+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):a):l}return(i.prefix||"")+o+(i.suffix||"")},h.toFraction=function(e){var r,i,o,t,s,u,n,f,c,l,a,w,m=this,v=m.c;if(e!=null&&(n=new p(e),!n.isInteger()&&(n.c||n.s!==1)||n.lt(A)))throw Error(C+"Argument "+(n.isInteger()?"out of range: ":"not an integer: ")+W(n));if(!v)return new p(m);for(r=new p(A),c=i=new p(A),o=f=new p(A),w=y(v),s=r.e=w.length-m.e-1,r.c[0]=we[(u=s%O)<0?O+u:u],e=!e||n.comparedTo(r)>0?s>0?r:c:n,u=$,$=1/0,n=new p(w),f.c[0]=0;l=N(n,r,0,1),t=i.plus(l.times(o)),t.comparedTo(e)!=1;)i=o,o=t,c=f.plus(l.times(t=c)),f=t,r=n.minus(l.times(t=r)),n=t;return t=N(e.minus(i),o,0,1),f=f.plus(t.times(c)),i=i.plus(t.times(o)),f.s=c.s=m.s,s=s*2,a=N(c,o,s,B).minus(m).abs().comparedTo(N(f,i,s,B).minus(m).abs())<1?[c,o]:[f,i],$=u,a},h.toNumber=function(){return+W(this)},h.toPrecision=function(e,r){return e!=null&&I(e,1,R),ce(this,e,r,2)},h.toString=function(e){var r,i=this,o=i.s,t=i.e;return t===null?o?(r="Infinity",o<0&&(r="-"+r)):r="NaN":(e==null?r=t<=T||t>=U?se(y(i.c),t):Y(y(i.c),t,"0"):e===10&&oe?(i=F(new p(i),S+t+1,B),r=Y(y(i.c),i.e,"0")):(I(e,2,j.length,"Base"),r=d(Y(y(i.c),t,"0"),10,e,o,!0)),o<0&&i.c[0]&&(r="-"+r)),r},h.valueOf=h.toJSON=function(){return W(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,g!=null&&p.set(g),p}function q(g){var N=g|0;return g>0||g===N?N:N-1}function y(g){for(var N,d,E=1,h=g.length,A=g[0]+"";E<h;){for(N=g[E++]+"",d=O-N.length;d--;N="0"+N);A+=N}for(h=A.length;A.charCodeAt(--h)===48;);return A.slice(0,h+1||1)}function b(g,N){var d,E,h=g.c,A=N.c,S=g.s,B=N.s,T=g.e,U=N.e;if(!S||!B)return null;if(d=h&&!h[0],E=A&&!A[0],d||E)return d?E?0:-B:S;if(S!=B)return S;if(d=S<0,E=T==U,!h||!A)return E?0:!h^d?1:-1;if(!E)return T>U^d?1:-1;for(B=(T=h.length)<(U=A.length)?T:U,S=0;S<B;S++)if(h[S]!=A[S])return h[S]>A[S]^d?1:-1;return T==U?0:T>U^d?1:-1}function I(g,N,d,E){if(g<N||g>d||g!==V(g))throw Error(C+(E||"Argument")+(typeof g=="number"?g<N||g>d?" out of range: ":" not an integer: ":" not a primitive number: ")+String(g))}function fe(g){var N=g.c.length-1;return q(g.e/O)==N&&g.c[N]%2!=0}function se(g,N){return(g.length>1?g.charAt(0)+"."+g.slice(1):g)+(N<0?"e":"e+")+N}function Y(g,N,d){var E,h;if(N<0){for(h=d+".";++N;h+=d);g=h+g}else if(E=g.length,++N>E){for(h=d,N-=E;--N;h+=d);g+=h}else N<E&&(g=g.slice(0,N)+"."+g.slice(N));return g}var Oe=Ae();const ve=["+","-","*","/"],de=14,re=g=>ve.includes(g),Se=g=>/\d/.test(g),H=new Ee,ee=new Ee,xe=g=>{H.clear(),ee.clear();let N=!1;const d=()=>{if(H.length===1&&g[0]==="-"&&!N){const E=H.pop().div(-1);H.push(E),ee.pop(),N=!0;return}if(H.length>=2&&!ee.empty()){const E=H.pop();let h=H.pop();switch(ee.pop()){case"+":h=h.plus(E);break;case"-":h=h.minus(E);break;case"*":h=h.times(E);break;case"/":h=h.div(E);break}H.push(h)}};for(let E=0;E<g.length;E++){if(d(),re(g[E]))H.empty()?g[E]==="-"&&ee.push("-"):ee.push(g[E]);else{let h="";for(;E<g.length&&!re(g[E]);)h+=g[E],E++;E--,h!=="."&&H.push(new Oe(h))}d()}return H.back()??new Oe(0)},Be=g=>N=>{const d=N+g,E=new Ee;for(let A=0;A<d.length;A++)if(!E.empty()&&re(d[A])&&re(E.back()))E.pop(),E.push(d[A]);else if(re(d[A]))E.back()==="."&&E.pop(),E.push(d[A]);else{let S=!1,B=de,T=0;for(;A<d.length&&(Se(d[A])||d[A]===".");)d[A]==="."?(S||E.push(d[A]),S=!0):(!S||S&&B--)&&(E.push(d[A]),T++),A++;A--,B===de&&S&&!T&&(E.pop(),E.push("0"),E.push("."))}const h=E.join("");return!E.empty()&&re(h[0])&&h[0]!=="-"?"0"+h:h},Ie=g=>!g.match(/[^\d\-\s+*\/.]/g);export{de as D,Ee as S,Ie as a,Be as c,xe as e,re as i};
