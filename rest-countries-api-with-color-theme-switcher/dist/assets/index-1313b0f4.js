import{p as v,n as r,H as t,J as b,D as y,A as h,j as e,a3 as k,r as f,I as S,a4 as C}from"./index-a8203cd2.js";import{u as N,Q as W,S as F,a as I,E as z,C as B}from"./usePreventScrolling-fad04a52.js";function T(i,c,l){var n=v(i,c,l);return N(n,W)}const R=r(t)(({theme:i})=>({"& .MuiContainer-root":{paddingTop:80},[i.breakpoints.up("lg")]:{"& .MuiContainer-root":{maxWidth:"100%",paddingLeft:"80px",paddingRight:"80px"}},[i.breakpoints.down("md")]:{"& .MuiContainer-root":{paddingTop:64,paddingLeft:"25px",paddingRight:"25px"}}})),D=r(b)(({theme:i})=>({textTransform:"none",fontSize:"0.9625rem",fontWeight:600,padding:"7px 39px","& svg":{width:18,fill:i.palette.mode=="light"?"black":"white"},[i.breakpoints.down("md")]:{fontSize:"0.875rem",lineHeight:1,padding:"8px 28px","& svg":{width:15}}})),L=r(t)(({theme:i})=>({display:"flex",justifyContent:"space-between",marginTop:77.77,marginBottom:60,[i.breakpoints.down("lg")]:{flexDirection:"column",alignItems:"space-around"},[i.breakpoints.down("md")]:{marginTop:70}})),P=r(t)(({theme:i})=>({width:"50%",[i.breakpoints.down("lg")]:{width:"100%",margin:"auto"}})),j=r(t)(({theme:i})=>({width:560,height:400,backgroundPosition:"top left",backgroundRepeat:"no-repeat",backgroundSize:"cover",position:"relative","&::before":{width:"calc(100% + 43px)",height:"calc(100% + 40px)",content:'""',position:"absolute",top:-20,left:-22.5,backgroundColor:y(i.palette.primary.dark,.287),borderRadius:10,zIndex:-1},[i.breakpoints.down("sm")]:{margin:"auto",maxWidth:"100%",minHeight:190,maxHeight:230,"&::before":{display:"none"}}})),A=r(F)(({theme:i})=>({width:560,height:400,[i.breakpoints.down("sm")]:{margin:"auto",maxWidth:"100%",minHeight:190,maxHeight:230}})),H=r(t)(({theme:i})=>({width:"100%",height:"54vh",display:"flex",justifyContent:"center",alignItems:"center","& .MuiCircularProgress-root":{color:i.palette.mode==="light"?"black":"white"}})),E=r(t)(({theme:i})=>({width:"45%",display:"flex",flexDirection:"column",marginTop:43,gap:30,[i.breakpoints.down("lg")]:{width:"100%"},[i.breakpoints.down("md")]:{"& .country--name":{fontSize:"1.3125rem"}}})),O=r(t)(()=>({display:"flex",justifyContent:"space-between",flexWrap:"wrap",rowGap:35})),w=r(t)(({theme:i})=>({display:"flex",flexDirection:"column",rowGap:9,"& .row":{display:"flex",alignItems:"center"},[i.breakpoints.between("sm","lg")]:{width:"50%"}})),o=r(h)(({theme:i})=>({fontWeight:600,fontSize:"0.9625rem",letterSpacing:.3,"& span":{fontWeight:300,color:i.palette.mode=="light"?"#6e757b":"#ccc",letterSpacing:.1},[i.breakpoints.down("lg")]:{flex:1},[i.breakpoints.down("md")]:{fontSize:"0.875rem",fontWeight:600}})),M=r(o)(({theme:i})=>({display:"flex",flexWrap:"wrap",alignItems:"center",gap:15,fontSize:"0.9625rem !important",marginTop:"43px","& .borders":{display:"flex",alignItems:"center",flexWrap:"wrap",gap:10},"& .badge":{flex:1,minWidth:90,display:"flex",justifyContent:"center",backgroundColor:i.palette.primary.main,padding:"8px 13px",fontSize:"0.8645rem",lineHeight:1,boxShadow:i.shadows[2],cursor:"pointer",userSelect:"none"},[i.breakpoints.down("sm")]:{marginTop:"10px","& .badge":{fontSize:"0.7rem"}}}));function Q(i){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...i,children:e.jsx("path",{d:"M109.3 288L480 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-370.7 0 73.4-73.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 288z"})})}function G(i){const{name:c}=k();return T([c,i],async({queryKey:l})=>{var g,a,x,m,u;const[n]=l;if(!n)return{};const p=await fetch("https://frontend-mentor-apis.onrender.com/api/rest-countries-api-with-color-theme-switcher/countries/"+n),s=await p.json();if(!p.ok)throw s;(g=s==null?void 0:s.tld)!=null&&g.length&&(s.tld=s.tld[0]),s.languages=Object.values((s==null?void 0:s.languages)??{}).join(", "),(a=s==null?void 0:s.capital)!=null&&a.length&&(s.capital=s.capital.join(", ")),s.currencies=Object.keys((s==null?void 0:s.currencies)??{}).join(", ");const d=Object.keys((x=s==null?void 0:s.name)==null?void 0:x.nativeName);return d&&(s.nativeName=(m=s.name.nativeName[d[0]])==null?void 0:m.official),s.name=(u=s==null?void 0:s.name)==null?void 0:u.common,s},{retry:!1,refetchOnWindowFocus:!1})}const J=!1;function K(){var g;const[i,c]=f.useState(!1),l=S(),{data:n,isFetching:p,error:s}=G(i);f.useEffect(()=>{document.documentElement.style.setProperty("--font-size","16px")},[]);const d=()=>{l("/countries")};return I(()=>Boolean(s)),s?e.jsxs(z,{children:[e.jsx(h,{variant:"h5",fontWeight:600,children:"A communication error has occurred with the API"}),e.jsx(b,{variant:"contained",onClick:()=>{c(a=>!a)},children:"Retry"})]}):e.jsx(R,{children:e.jsxs(B,{children:[e.jsx(D,{variant:"contained",startIcon:e.jsx(Q,{}),onClick:d,children:"Back"}),e.jsxs(L,{children:[e.jsx(P,{children:p?e.jsx(A,{variant:"rectangular"}):J?e.jsx(j,{sx:{backgroundImage:"url('us.svg')"}}):e.jsx(j,{sx:{backgroundImage:`url('${n==null?void 0:n.flags.svg}')`}})}),p?e.jsx(H,{children:e.jsx(C,{disableShrink:!0})}):e.jsx(E,{children:e.jsxs(e.Fragment,{children:[e.jsx(h,{variant:"h4",fontSize:"1.9rem",fontWeight:800,className:"country--name",children:n==null?void 0:n.name}),e.jsxs(O,{children:[e.jsxs(w,{children:[e.jsx("div",{className:"row",children:n!=null&&n.nativeName?e.jsxs(o,{children:["Native Name: ",e.jsx("span",{children:n==null?void 0:n.nativeName})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"row",children:n!=null&&n.population?e.jsxs(o,{children:["Population: ",e.jsx("span",{children:n==null?void 0:n.population})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"row",children:n!=null&&n.region?e.jsxs(o,{children:["Region: ",e.jsx("span",{children:n==null?void 0:n.region})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"row",children:n!=null&&n.subregion?e.jsxs(o,{children:["Sub Region: ",e.jsx("span",{children:n==null?void 0:n.subregion})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"row",children:n!=null&&n.capital?e.jsxs(o,{children:["Capital: ",e.jsx("span",{children:n==null?void 0:n.capital})]}):e.jsx(e.Fragment,{})})]}),e.jsxs(w,{children:[e.jsx("div",{className:"row",children:n!=null&&n.tld?e.jsxs(o,{children:["Top Level Domain: ",e.jsx("span",{children:n==null?void 0:n.tld})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"row",children:n!=null&&n.currencies?e.jsxs(o,{children:["Currencies: ",e.jsx("span",{children:n==null?void 0:n.currencies})]}):e.jsx(e.Fragment,{})}),e.jsx("div",{className:"row",children:n!=null&&n.languages?e.jsxs(o,{children:["Languages: ",e.jsx("span",{children:n==null?void 0:n.languages})]}):e.jsx(e.Fragment,{})})]})]}),(g=n==null?void 0:n.borders)!=null&&g.length?e.jsxs(M,{children:["Border Countries:",e.jsx("span",{className:"borders",children:((n==null?void 0:n.borders)??[]).map((a,x)=>e.jsx("span",{className:"badge",children:a},x))})]}):e.jsx(e.Fragment,{})]})})]})]})})}function U(){return e.jsx(K,{})}export{U as default};
